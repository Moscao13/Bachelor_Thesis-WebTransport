/// <reference types="node" />
/**
 * WebTransport session events
 * @typedef {import('./types').WebTransportSessionEventHandler} WebTransportSessionEventHandler
 * @typedef {import('./types').SessionReadyEvent} SessionReadyEvent
 * @typedef {import('./types').SessionCloseEvent} SessionCloseEvent
 * @typedef {import('./types').DatagramReceivedEvent} DatagramReceivedEvent
 * @typedef {import('./types').DatagramSendEvent} DatagramSendEvent
 * @typedef {import('./types').GoawayReceivedEvent} GoawayReceivedEvent
 * @typedef {import('./types').DatagramStatsEvent} DatagramStatsEvent
 * @typedef {import('./types').SessionStatsEvent} SessionStatsEvent
 * @typedef {import('./types').NewStreamEvent} NewStreamEvent
 *
 * @typedef {import('./dom').WebTransportCloseInfo} WebTransportCloseInfo
 * @typedef {import('./dom').WebTransportBidirectionalStream} WebTransportBidirectionalStream
 * @typedef {import('./dom').WebTransportSendStream} WebTransportSendStream
 * @typedef {import('./dom').WebTransportReceiveStream} WebTransportReceiveStream
 * @typedef {import('./dom').WebTransportDatagramDuplexStream} WebTransportDatagramDuplexStream
 * @typedef {import('./dom').WebTransportReliabilityMode} WebTransportReliabilityMode
 * @typedef {import('./dom').WebTransportCongestionControl} WebTransportCongestionControl
 * @typedef {import('./dom').WebTransportStats} WebTransportStats
 * @typedef {import('./dom').WebTransportDatagramStats} WebTransportDatagramStats
 *
 * @typedef {import('./types').NativeHttp3WTSession} NativeHttp3WTSession
 *
 * Public API
 * @typedef {import('./types').WebTransportSession} WebTransportSession
 *
 * @typedef {import('./server').Http3Server} Http3Server
 * @typedef {import('./client').Http3Client} Http3Client
 *
 * @typedef {import('stream/web').WritableStreamDefaultController} WritableStreamDefaultController
 */
/**
 * @implements {WebTransportSessionEventHandler}
 * @implements {WebTransportSession}
 */
export class Http3WTSession implements WebTransportSessionEventHandler, WebTransportSession {
    /**
     * @param {SessionReadyEvent | SessionCloseEvent | DatagramReceivedEvent | DatagramSendEvent | GoawayReceivedEvent | SessionStatsEvent | DatagramStatsEvent | NewStreamEvent} args
     */
    static callback(args: SessionReadyEvent | SessionCloseEvent | DatagramReceivedEvent | DatagramSendEvent | GoawayReceivedEvent | SessionStatsEvent | DatagramStatsEvent | NewStreamEvent): void;
    /**
     * @param {object} args
     * @param {import('./types').NativeHttp3WTSession} [args.object]
     * @param {Http3Server | Http3Client} args.parentobj
     * @param {any | undefined} [args.header= undefined]
     */
    constructor(args: {
        object?: import("./types").NativeHttp3WTSession | undefined;
        parentobj: Http3Server | Http3Client;
        header?: any | undefined;
    });
    objint: import("./types").NativeHttp3WTSession | undefined;
    parentobj: import("./server").Http3Server | import("./client").Http3Client;
    /** @type {import('./types').WebTransportSessionState} */
    state: import('./types').WebTransportSessionState;
    /** @type {((value?: any) => void) | null | undefined} */
    readyResolve: ((value?: any) => void) | null | undefined;
    /** @type {(() => void) | null | undefined} */
    closeHook: (() => void) | null | undefined;
    /** @type {(any | null | undefined)} */
    header: (any | null | undefined);
    /** @type {Promise<void>} */
    ready: Promise<void>;
    readyReject: (reason?: any) => void;
    /** @type {WebTransportReliabilityMode} */
    reliability: WebTransportReliabilityMode;
    /** @type {WebTransportCongestionControl} */
    congestionControl: WebTransportCongestionControl;
    /** @type {Promise<WebTransportCloseInfo>} */
    closed: Promise<WebTransportCloseInfo>;
    closedResolve: (value: import("./dom").WebTransportCloseInfo | PromiseLike<import("./dom").WebTransportCloseInfo>) => void;
    closedReject: (reason?: any) => void;
    /** @type {Promise<undefined>} */
    draining: Promise<undefined>;
    drainingResolve: (value: PromiseLike<undefined> | undefined) => void;
    drainingReject: (reason?: any) => void;
    /** @type {ReadableStream<WebTransportBidirectionalStream>} */
    incomingBidirectionalStreams: ReadableStream<WebTransportBidirectionalStream>;
    incomBiDiController: ReadableStreamDefaultController<import("./dom").WebTransportBidirectionalStream>;
    /** @type {ReadableStream<WebTransportReceiveStream>} */
    incomingUnidirectionalStreams: ReadableStream<WebTransportReceiveStream>;
    incomUniDiController: ReadableStreamDefaultController<import("./dom").WebTransportReceiveStream>;
    /** @type {Array<() => void>} */
    writeDatagramRes: (() => void)[];
    /** @type {Array<(err?: Error) => void>} */
    writeDatagramRej: ((err?: Error) => void)[];
    /** @type {Array<Promise<void>>} */
    writeDatagramProm: Array<Promise<void>>;
    /** @type {WebTransportDatagramDuplexStream} */
    datagrams: WebTransportDatagramDuplexStream;
    incomDatagramController: import("stream/web").ReadableByteStreamController;
    outgoDatagramController: import("stream/web").WritableStreamDefaultController;
    /** @type {Array<(stream: WebTransportBidirectionalStream) => void>} */
    resolveBiDi: ((stream: WebTransportBidirectionalStream) => void)[];
    /** @type {Array<(stream: WebTransportSendStream) => void>} */
    resolveUniDi: ((stream: WebTransportSendStream) => void)[];
    /** @type {Array<(err?: Error) => void>} */
    rejectBiDi: ((err?: Error) => void)[];
    /** @type {Array<(err?: Error) => void>} */
    rejectUniDi: ((err?: Error) => void)[];
    /** @type {Array<(stats: WebTransportStats) => void>} */
    resolveSessionStats: ((stats: WebTransportStats) => void)[];
    /** @type {Array<(err?: Error) => void>} */
    rejectSessionStats: ((err?: Error) => void)[];
    /** @type {Array<(stats: WebTransportDatagramStats) => void>} */
    resolveDatagramStats: ((stats: WebTransportDatagramStats) => void)[];
    /** @type {Array<(err?: Error) => void>} */
    rejectDatagramStats: ((err?: Error) => void)[];
    /** @type {Set<WebTransportSendStream>} */
    sendStreams: Set<WebTransportSendStream>;
    /** @type {Set<WebTransportReceiveStream>} */
    receiveStreams: Set<WebTransportReceiveStream>;
    /** @type {Set<Http3WTStream>} */
    streamObjs: Set<Http3WTStream>;
    /** @type {Set<WritableStreamDefaultController>} */
    sendStreamsController: Set<WritableStreamDefaultController>;
    /** @type {Set<ReadableStreamDefaultController>} */
    receiveStreamsController: Set<ReadableStreamDefaultController>;
    /**
     * @param {NativeHttp3WTSession} object
     */
    setSessionObj(object: NativeHttp3WTSession): void;
    getStats(): Promise<any>;
    /**
     * @param {SessionStatsEvent} evt
     */
    onSessionStats({ timestamp, expiredOutgoing, lostOutgoing, minRtt, smoothedRtt, rttVariation, estimatedSendRateBps }: SessionStatsEvent): void;
    /**
     * @param {DatagramStatsEvent} evt
     */
    onDatagramStats({ timestamp, expiredOutgoing, lostOutgoing }: DatagramStatsEvent): void;
    waitForDatagramsSend(): Promise<void>;
    notifySessionDraining(): void;
    /**
     * @param {Http3WTStream} stream
     */
    addStreamObj(stream: Http3WTStream): void;
    /**
     * @param {Http3WTStream} stream
     */
    removeStreamObj(stream: Http3WTStream): void;
    /**
     * @param {WebTransportSendStream} stream
     * @param {WritableStreamDefaultController} controller
     */
    addSendStream(stream: WebTransportSendStream, controller: WritableStreamDefaultController): void;
    /**
     * @param {WebTransportSendStream} stream
     * @param {WritableStreamDefaultController} controller
     */
    removeSendStream(stream: WebTransportSendStream, controller: WritableStreamDefaultController): void;
    /**
     * @param {WebTransportReceiveStream } stream
     * @param {ReadableStreamDefaultController} controller
     */
    addReceiveStream(stream: WebTransportReceiveStream, controller: ReadableStreamDefaultController): void;
    /**
     * @param {WebTransportReceiveStream } stream
     * @param {ReadableStreamDefaultController} controller
     */
    removeReceiveStream(stream: WebTransportReceiveStream, controller: ReadableStreamDefaultController): void;
    /**
     * @returns {Promise<WebTransportBidirectionalStream>}
     */
    createBidirectionalStream(): Promise<WebTransportBidirectionalStream>;
    /**
     *@returns {Promise<WebTransportSendStream>}
     */
    createUnidirectionalStream(): Promise<WebTransportSendStream>;
    /**
     * @param {object} [closeInfo]
     * @param {number} closeInfo.closeCode
     * @param {string} closeInfo.reason
     * @returns {void}
     */
    close(closeInfo?: {
        closeCode: number;
        reason: string;
    } | undefined): void;
    onReady(): void;
    /**
     * @param {SessionCloseEvent} args
     */
    onClose(args: SessionCloseEvent): void;
    /**
     * @param {NewStreamEvent} args
     */
    onStream(args: NewStreamEvent): void;
    /**
     * @param {DatagramReceivedEvent} args
     */
    onDatagramReceived(args: DatagramReceivedEvent): void;
    /**
     * @param {DatagramSendEvent} args
     */
    onDatagramSend(args: DatagramSendEvent): void;
    /**
     * @param {GoawayReceivedEvent} args
     */
    onGoAwayReceived(args: GoawayReceivedEvent): void;
}
/**
 * WebTransport session events
 */
export type WebTransportSessionEventHandler = import('./types').WebTransportSessionEventHandler;
/**
 * WebTransport session events
 */
export type SessionReadyEvent = import('./types').SessionReadyEvent;
/**
 * WebTransport session events
 */
export type SessionCloseEvent = import('./types').SessionCloseEvent;
/**
 * WebTransport session events
 */
export type DatagramReceivedEvent = import('./types').DatagramReceivedEvent;
/**
 * WebTransport session events
 */
export type DatagramSendEvent = import('./types').DatagramSendEvent;
/**
 * WebTransport session events
 */
export type GoawayReceivedEvent = import('./types').GoawayReceivedEvent;
/**
 * WebTransport session events
 */
export type DatagramStatsEvent = import('./types').DatagramStatsEvent;
/**
 * WebTransport session events
 */
export type SessionStatsEvent = import('./types').SessionStatsEvent;
/**
 * WebTransport session events
 */
export type NewStreamEvent = import('./types').NewStreamEvent;
/**
 * WebTransport session events
 */
export type WebTransportCloseInfo = import('./dom').WebTransportCloseInfo;
/**
 * WebTransport session events
 */
export type WebTransportBidirectionalStream = import('./dom').WebTransportBidirectionalStream;
/**
 * WebTransport session events
 */
export type WebTransportSendStream = import('./dom').WebTransportSendStream;
/**
 * WebTransport session events
 */
export type WebTransportReceiveStream = import('./dom').WebTransportReceiveStream;
/**
 * WebTransport session events
 */
export type WebTransportDatagramDuplexStream = import('./dom').WebTransportDatagramDuplexStream;
/**
 * WebTransport session events
 */
export type WebTransportReliabilityMode = import('./dom').WebTransportReliabilityMode;
/**
 * WebTransport session events
 */
export type WebTransportCongestionControl = import('./dom').WebTransportCongestionControl;
/**
 * WebTransport session events
 */
export type WebTransportStats = import('./dom').WebTransportStats;
/**
 * WebTransport session events
 */
export type WebTransportDatagramStats = import('./dom').WebTransportDatagramStats;
/**
 * Public API
 */
export type NativeHttp3WTSession = import('./types').NativeHttp3WTSession;
/**
 * WebTransport session events
 */
export type WebTransportSession = import('./types').WebTransportSession;
/**
 * WebTransport session events
 */
export type Http3Server = import('./server').Http3Server;
/**
 * WebTransport session events
 */
export type Http3Client = import('./client').Http3Client;
/**
 * WebTransport session events
 */
export type WritableStreamDefaultController = import('stream/web').WritableStreamDefaultController;
import { ReadableStream } from "stream/web";
import { Http3WTStream } from "./stream.js";
//# sourceMappingURL=session.d.ts.map